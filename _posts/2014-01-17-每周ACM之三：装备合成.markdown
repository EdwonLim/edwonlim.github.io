---
layout: post
title: "每周ACM之二：装备合成"
date: 2014-01-17 17:00:00
category: acm
summary: "每周ACM，第三期，装备合成。"
from: http://acm.hdu.edu.cn/showproblem.php?pid=2677
---

玩过Dota的小伙伴都知道，装备在Dota里是非常重要的，装备的好坏很大程度上决定了比赛的胜负。
所以，小伙伴们在Carry，Gank后，总会计算一下现在的金钱，看看是否能买装备。

这里，我们要设计一个程序，给出相关配件的价格、此时身上已有的配件或装备以及合成方式，计算出和合成装备的话费。

### Input

输入包括多个实例，实例直间用空行分割。

对于每个实例：

第一行一个整数N1表示以在商店能买到的配件的数目。

接下来N1行，每行第一个字符串V是配件的名称，整数S是配件的价格。

第二部分的整数N2表示身上已有的配件或装备种书。

接下来N2行，每行第一个字符串V是装备或配件的名称，整数M是你拥有的数量.

第三部分整数N3表示有多少种合成方法。

接下来N3行，每行有一个字符“=”，左边的是你应该配方。
例如，A + B + C = D，为了得到一个D，你必须使用A，B，C。

最后一部分整数N4，最后需要合成的装备种数。

接下来N4行，每行第一个字符串V表示需要合成的装备的名称，M是需要合成此装备的个数。

配件和装备的总类不大于100。和配件和装备的名称长度将小于50。

### Output

对于每组测试数据，请输出购买所有装备的总花费。

### Sample Input

{% highlight text %}
4
欢欣之刃 100
敏捷之靴 20
半兽人之斧 100
力量腰带 50
2
散华 1
力量腰带 2
3
欢欣之刃 + 敏捷之靴 = 散华
半兽人之斧 + 力量腰带 = 夜叉
散华 + 夜叉 = 散夜对剑
1
散夜对剑 2

5
鹰角弓 3200
短棍 1100
攻击之爪 950
阔剑 1200
恶魔刀锋 2600
0
3
鹰角弓 + 短棍 = 蝴蝶
攻击之爪 + 阔剑 = 水晶剑
水晶剑 + 恶魔刀锋 = 大炮
2
蝴蝶 1
大炮 1
{% endhighlight %}

### Sample Output

{% highlight text %}
320
9050
{% endhighlight %}

**【答案下期放出】**
